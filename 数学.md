# 数学基础

提升编程能力，打牢基础。复杂度如何计算、某个代码优化是否降低了时间复杂度，或者是动态规划的状态转移方程问题等。这的确是在学习数据结构中遇到的困难，**但本质上都是数学问题**。

## 为什么学习

1. 写出高效率的代码，降低代码的复杂度

例子：对于一个**有序数组**中查找目标值的问题，应该采用二分查找算法。而且随着数组元素越来越多，二分查找相对全局遍历而言，性能上的优势会越来越明显。从数学视角来看，这是因为当 x 很大时，lnx <<x。比如 x=100，ln100=4.6 << 100。

![image-20231003132904727](C:/Users/shuyi/Desktop/learn-notes/images/image-20231003132904727.png)

二分查找的效率高，但是代码依赖递归，实现起来自然没有for循环简单。



例子：一个数组中，只有数字n出现了一次，其他数字都出现了两次。请查找出n，约束为 O(n) 的时间复杂度、O(1) 的空间复杂度。例如在数组 a = [2,1,4,3,4,2,3] 中，则输出 1。因为 2、3、4 都出现了两次，唯独 1 只出现一次。

这是个在无序数组中，涉及与其他元素匹配的查找问题。常规解法的复杂度应该是：O(n²) 时间复杂度、O(1) 空间复杂度，或者 O(n) 时间复杂度、O(n) 空间复杂度。显然，这并不符合题目的约束。

要想解决这个问题，需要借助数学的**异或运算**。借助异或运算，只需要把数组 a 中所有元素计算一下异或就可以得到n。实现起来，就是如下所示的 O(n) 时间复杂度的 for 循环，且不需要额外开辟复杂变量。

具体的布尔代数的细节：

> 在一组数字依次进行二进制异或逻辑运算时，有一些规律和特征可以观察到：
>
> 1. 异或运算的交换律：异或运算符（^）满足交换律，即`a ^ b = b ^ a`。因此，对于给定的一组数字，无论其顺序如何，异或运算的结果是相同的。
> 2. 异或运算的结合律：异或运算符满足结合律，即`a ^ (b ^ c) = (a ^ b) ^ c`。这意味着对于任意数量的数字进行异或运算，可以通过任意分组方式得到相同的结果。
> 3. 相同数字的异或结果为0：对于任何数字a，`a ^ a = 0`。这意味着如果一组数字中存在重复的数字，它们的异或结果将为0。
> 4. 交换两个数字的位置不影响结果：交换两个数字的位置不会改变异或运算的结果。例如，对于数字a和b，`a ^ b ^ a = a ^ a ^ b`，由于异或运算满足交换律和结合律，可以简化为`0 ^ b = b`。
> 5. 异或运算可用于查找单个数字：如果一组数字中只有一个数字出现奇数次，而其他数字都出现偶数次，那么对所有数字进行异或运算的结果将是这个出现奇数次的数字。

```python
a = [2,1,4,3,4,2,3]
result = a[0]
for i in range(1,len(a)):
  result = result ^ a[i]
print result
```



**工作场景之外，在求职面试中**，大量的算法题也是对程序员数学能力的考察，与其直接海量刷题，不如先打好知识基础和建好思维逻辑，再有方法论地刷题，才能有备无患。



## 如何学习

1. 学什么
   从数学的知识体系至少包括微积分、线性代数、几何、概率论、数理统计等内容。而对于程序员，只需要精通那些**对代码开发有指导性帮助的数学知识**就足够了。哪些数学是必要的？又如何区分必备的数学知识的边界？
2. 如何将数学理论用于实践
   自己很难想到利用“异或”去查找前面数组中的 n。先从编程思想来看：时间复杂度是 O(n)，这就意味着可以使用一个 for 循环；空间复杂度是 O(1)，这就意味着处理过程只能做一些基本运算。接着围绕题目来看，除了 n 以外的元素都出现两次。突发奇想一下，如果可以有一个类似于“连连看”的计算，能把相同元素清掉，最终不就只保留了 n 吗？“相同元素”清掉，这就是异或运算口诀中的“同零异一”，这就与异或的数学运算构建了联系。因此，**学习数学时，死读书是没用的，必须落地到实践**。
3. 在学习数学的时候，必须掌握学习方法，提高学习效率（因为自己没有大量的时间）

放弃学生时代学习数学的思路，建议遵循以下学习理念：

1. 首先，聚焦自己的工作领域，明确哪些是你必备的。例如，位运算、数学归纳法、最优化算法等。对这些知识的精通，可以奠定知识体系的基础。
2. 所有的学习都要落地在实践。需要不断复习巩固知识、加深对知识点的理解深度，达到灵活运用的状态。在实际工作中，利用数学思想去解决问题。



## 进制

进制可以简单理解为数数的方法或者规定。进制中最重要的因素是**基数**。假设设置基数为 10 来数数，那就是在用十进制计数法；如果设置基数为 2，就是在用二进制计数法。

同一数字在不同进制下其数量是完全不同的。为了避免混淆，需要对不同进制下的数字做了区分。

十进制使用的数字符号是 [0,1,2,3,4,5,6,7,8,9]；对于二进制和八进制，它们仍然沿用十进制的数字符号，[0,1]和[0,1,2,3,4,5,6,7]。在十六进制中，由于十进制下的数字符号不够用，这就需要额外补充。一般用 [A,B,C,D,E,F]（一般不会特别区分字母的大小写），用来分别代表十进制下的 [10,11,12,13,14,15]。

- 一般而言，没有额外说明的数字都是十进制下的数字；
- 表示二进制时，会用 0b 作为数字的前缀；
- 表示八进制时，会用 0o 或者 0 作为数字的前缀；
- 表示十六进制时，会用 0x 作为数字的前缀。

这里 b、o、x 三个英文字母的选择均来自数制的英文单词。

![image-20231003160723832](C:/Users/shuyi/Desktop/learn-notes/images/image-20231003160723832.png)

### 进制转换

**其他进制数转为十进制数**

这个方法一般被称为换基法，是对于任意一个基数 N 进制下的数字 X，它转换为十进制的方法。如下图的公式所示：原进制若是 N 进制，转换时的基数便取 N。

![image-20231003161018726](C:/Users/shuyi/Desktop/learn-notes/images/image-20231003161018726.png)



**十进制数转为其他进制数**

采用的方法叫除余法，转向的目标进制为 N 进制，则以 N 为除数不断地做除法，将最后的商和之前的余数**逆序**串联在一起，就是最终的结果（每次的余数必定是小于N进制的一个数）。

![image-20231003161242127](C:/Users/shuyi/Desktop/learn-notes/images/image-20231003161242127.png)

除余法除了适用于十进制向二进制的转换，也**适用于十进制向任何数制的转换**。

![image-20231003161744912](C:/Users/shuyi/Desktop/learn-notes/images/image-20231003161744912.png)

![image-20231003161805325](C:/Users/shuyi/Desktop/learn-notes/images/image-20231003161805325.png)



![image-20231003173045060](C:/Users/shuyi/Desktop/learn-notes/images/image-20231003173045060.png)

**借助进制转换解决问题实例**

1. 判断一个整数 a，是否是 2 的整数次幂。

   解析：如果是十进制，判断一个数是否是 10 的整数次幂，只需要看这个数字的形式是否为一个“1”和若干个“0”构成。例如，一个“1”和两个“0”构成“100”，它是 10 的 2 次幂；一个“1”和 4 个“0”构成“10000”，它是 10 的 4 次幂。

   因此这个题目的解法就是，把 a 转换为二进制，看看 bin(a) 的形式是否为一个“1”和若干个“0”构成，代码如下：

   ```python
   a = 8
   b = str(bin(a))
   total = 0
   for i in range(2,len(b)):
     total += int(b[i])
     
   if total == 1 and b[2] == '1':
       print 'yes'
   else:
       print 'no'
   ```

   - 第 1～2 行，变量 a 为待判断的整数；变量 b 是 a 的二进制形式，并且被我们强制转化为 string 类型，这样 b 的值就是 0b1000。
   - 如果形式为一个“1”和若干个“0”，则需要满足以下两个性质：**第一，首位为“1”；第二，所有位加和为“1”。**
   - 在代码中，第 4～6 行，计算了所有位数的加和，并保存在 total 变量中。
   - 在第 8～11 行，根据两个性质，对结果进行判断，并打印 yes 或者 no。



还可以利用位运算的**与**，来判断二进制数字 x 的形式是否为一个“1”和若干个“0”。判断的方法是，计算 x & (x-1)，如果结果为 0 则是，如果结果非 0 则不是。这样可以得到更简单的实现代码，代码如下：

```python
a = 80
if a & (a-1) == 0:
  print 'yes'
else:
  print 'no'
```





































