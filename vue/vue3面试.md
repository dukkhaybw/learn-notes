## vue3比vue2有什么优势？

Vue 3 相比于 Vue 2 带来了许多改进和新特性，这些变化旨在**提升性能、增强可维护性、以及扩展功能**。下面是 Vue 3 相比于 Vue 2 的一些主要优势：

1. **性能提升**：Vue 3 引入了许多性能优化措施，包括更小的打包体积、更快的虚拟 DOM 重写和更新、以及更高效的组件初始化。这些优化使得 Vue 3 在运行速度和启动时间上比 Vue 2 更快。
2. **Composition API**：Vue 3 引入了 Composition API，允许用户更灵活地组织代码，特别是在处理复杂组件时。这使得代码更**容易理解和维护**，同时也更容易**重用逻辑**。
3. **更好的 TypeScript 支持**：提供了更好的类型推导和类型检查。这使得开发大型项目时，代码的可靠性和维护性得到提升。
4. **新的响应式系统**：Vue 3 使用了基于 Proxy 的响应式系统，替换了 Vue 2 中基于 Object.defineProperty 的实现。这个新系统提高了性能，同时也使 Vue 能够更好地处理嵌套属性和集合类型，如 Map 和 Set。
5. **更好的组件化和模块化**：Vue 3 提高了组件和模块的灵活性和复用性，使得开发大型应用时，代码更加模块化和组件化。
6. **Fragment、Teleport 和 Suspense 新特性**：
   - **Fragment** 允许组件返回多个根节点，这在 Vue 2 中是不可能的。
   - **Teleport** 是一个新的内置组件，允许将子节点传送到 DOM 的其他部分。
   - **Suspense** 提供了一种新的方式来处理异步组件和它们的加载状态，使得创建平滑的用户体验变得更加容易。
7. **更易于测试**：Vue 3 带来了改进的测试功能和支持，使得单元测试和端到端测试更加容易实施。
8. **自定义渲染器 API**：Vue 3 提供了一个自定义渲染器 API，允许开发者创建自定义的渲染器，这为在不同平台上使用 Vue 打开了大门，包括原生移动应用开发。
9. **更好的 SSR 支持**：Vue 3 提供了改进的服务器端渲染（SSR）支持和文档，使得开发高性能、SEO 友好的应用变得更加容易。



## Vue3的生命周期函数

Vue 3 保留了 Vue 2 中的大多数生命周期钩子的概念，同时也引入了一些变化，尤其是为了与 Composition API 的引入相兼容。以下是 Vue 3 中的生命周期函数及其一般使用场景：

1. **`beforeCreate`** 和 **`created`**：
   - 这两个生命周期函数在 Vue 3 中并未发生太大变化，但在使用 Composition API 时，它们的用途被 `setup()` 函数所取代。
   - `beforeCreate` 在实例初始化之后、数据观察和事件/侦听器的设置之前被调用。
   - `created` 在实例创建完成后被调用，此时已完成数据观察、属性和方法的运算、侦听器的设置等，但尚未开始 DOM 渲染，因此不能访问到 `$el` 属性。
2. **`beforeMount`**：
   - 在挂载开始之前被调用，相关的 `render` 函数首次被调用之前调用。
   - 这个阶段可以用于在服务器端渲染期间执行代码，或者在客户端渲染之前进行最后的配置。
3. **`mounted`**：
   - 在实例被挂载后调用，此时可以访问到 DOM 元素 (`this.$el`)。
   - 通常用于执行依赖于 DOM 的操作，例如使用第三方库初始化组件，或者执行需要在模板渲染成真实 DOM 之后进行的操作。
4. **`beforeUpdate`**：
   - 在数据更新之前调用，但 DOM 还未被更新。
   - 可用于在当前的状态下执行操作，或者在视图更新之前获取更新前的 DOM 状态。
5. **`updated`**：
   - 在数据更改导致的虚拟 DOM 重新渲染和打补丁之后调用。
   - 用于执行依赖于 DOM 的操作，确保元素已经更新。
6. **`beforeUnmount`**：
   - 在卸载组件实例之前调用。
   - 用于执行清理操作，如事件解绑或清除定时器。
7. **`unmounted`**：
   - 在组件实例被卸载之后调用。
   - 此时组件的所有指令已经解绑，事件监听器被移除，子组件也都被卸载。
8. **`activated`** 和 **`deactivated`**（仅在 `<keep-alive>` 组件中有效）：
   - `activated` 用于处理组件被激活时的逻辑。
   - `deactivated` 用于处理组件被停用时的逻辑。
9. **`errorCaptured`**：
   - 当捕获一个来自子孙组件的错误时被调用。
   - 用于错误处理和记录。

在 Composition API 中，相应的生命周期钩子有所调整，主要通过 `onBeforeMount`、`onMounted`、`onBeforeUpdate`、`onUpdated`、`onBeforeUnmount`、`onUnmounted` 等函数来使用，它们在 `setup()` 函数中被调用，提供了与选项 API 相同的生命周期钩子功能，但以更加灵活的方式使用。



